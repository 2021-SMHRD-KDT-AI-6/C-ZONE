<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.smhrd.mybatis.BoardMapper">
	
	<select id="Index" resultType="kr.smhrd.util.SuperVO">
		select * from articles
		order by article_num desc
	</select>
	
	<select id="mypage" resultType="kr.smhrd.util.SuperVO">
		select m.mb_profile_pic, a.*
		from articles a, members m
		where a.mb_id=m.mb_id and a.mb_id='mb_id 01'
		order by a.article_num desc
	</select>
	
	<select id="memberpage" resultType="kr.smhrd.util.SuperVO">
		select m.mb_profile_pic, a.*
		from articles a, members m
		where a.mb_id=m.mb_id and a.mb_id='mb_id 02'
		order by a.article_num desc
	</select>
	
	<insert id="write" parameterType="kr.smhrd.util.SuperVO">
		insert into articles (article_title, article_content, mb_num, carping_level, latitude, longitude, carping_pic1)
		values (#{article_title}, #{article_content}, #{mb_num}, #{carping_level}, #{latitude}, #{longitude}, #{carping_pic1})
	</insert>
	<select id="isLogin" parameterType="kr.smhrd.util.MbVO" 
                     resultType="kr.smhrd.util.MbVO">
  select * from members where mb_id=#{mb_id} and mb_pwd=#{mb_pwd}
</select> 
	
	<select id="article" resultType="kr.smhrd.util.SuperVO">
		select * from articles
		where mb_num = #{mb_num}
	</select>
	

		<select id="commentList" resultType="kr.smhrd.util.SuperVO">
		select c.comment_num, c.reg_date, c.comment_content, c.article_num from comments c, articles a
		where a.article_num = c.article_num and c.article_num = #{article_num}
		order by c.comment_num desc
	</select>
</mapper>